<div class="members-container">

  <div class="member-container" *ngFor="let member of myFamily.members">

    <div class="d-flex align-items-center justify-content-center w-100 mb-2">

      <div class="border me-3" style="background: {{member.taskUserConfig?.color}}; border-radius: 2px; width: 25px; height: 25px; cursor: pointer"
           nz-popover nzPopoverTrigger="click" [nzPopoverContent]="colorPicker" nzPopoverPlacement="bottomLeft"
           (nzPopoverVisibleChange)="saveColor(member, $event)"></div>

      <ng-template #colorPicker>
        <div class="mb-2">
          <div class="mb-1">Color:</div>
          <color-chrome (onChangeComplete)="colorChanged($event)" [color]="member.taskUserConfig?.color ?? ''"></color-chrome>
        </div>
        <div>
          <div class="mb-1">Tasks Per Week:</div>
          <nz-input-number class="w-100" [ngModel]="member.taskUserConfig?.tasksPerWeek"
                           (ngModelChange)="tasksPerWeekChanged($event)"></nz-input-number>
        </div>
      </ng-template>

      <div style="font-size: 20px">{{member.name}}</div>

    </div>

    <div class="d-flex w-100 flex-column align-items-center mb-4">

      <div>Total personal tasks: <strong>{{member.taskUserConfig?.totalUserTasks}}</strong></div>

    </div>

    <nz-progress nzType="circle" [nzPercent]="member | weeklyProgressPercent : false"></nz-progress>

  </div>

</div>
