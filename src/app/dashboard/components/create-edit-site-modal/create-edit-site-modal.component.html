<nz-modal
  [nzVisible]="isVisible()"
  [nzTitle]="(model?.id === 0 ? 'Create' : 'Edit') + ' Site'"
  [nzWidth]="modalWidth"
  (nzOnCancel)="closeModal()"
  nzOkText="Save"
  nzCancelText="Close"
  (nzOnOk)="saveSite()"
  [nzStyle]="modalStyle"
  [nzOkLoading]="folderStore.loadingOneSite()"
  [nzOkDisabled]="folderStore.loadingOneSite()"
  [nzCancelDisabled]="folderStore.loadingOneSite()"
>
  <ng-container *nzModalContent>
    @if (model) {
      <div>
        <div class="w-100 mb-3">
          Name:

          <input nz-input [(ngModel)]="model.name" class="w-100" />
        </div>

        <div class="w-100 mb-3">
          Description:

          <input nz-input [(ngModel)]="model.description" class="w-100" />
        </div>

        <div class="w-100 mb-3">
          Url:

          <input nz-input [(ngModel)]="model.url" class="w-100" />
        </div>

        @if (model.id !== 0) {
          <div class="w-100 mb-3 d-flex">
            <div class="w-50">
              <div>Folder:</div>

              <nz-select [(ngModel)]="model.folderId" [nzOptions]="folderStore.folderOptions()" style="min-width: 99%"></nz-select>
            </div>

            <div class="w-50 d-flex justify-content-center align-items-end">
              Show:

              <label nz-checkbox [(ngModel)]="model.show" class="ms-2"></label>
            </div>
          </div>
        }

        <div class="w-100">
          <div class="w-100 d-flex align-items-center mb-2">
            Upload Icon:

            @if (model.siteImage) {
              <img [srcset]="model.siteImage.imagePath" [alt]="model.name" class="ms-3" height="40" />
            }
          </div>

          <div class="w-100 d-flex align-items-end">
            <nz-upload
              class="w-100"
              nzType="drag"
              [nzMultiple]="false"
              [nzAction]="getUploadPath()"
              (nzChange)="handleChange($event)"
              [(nzFileList)]="fileList"
            >
              <p class="ant-upload-text">Click or drag file to this area to upload (must be png or svg)</p>
            </nz-upload>
          </div>
        </div>
      </div>
    }
  </ng-container>
</nz-modal>
